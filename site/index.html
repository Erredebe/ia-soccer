<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>IA Soccer · Manager canallesco</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="page">
      <header class="hero">
        <h1>IA Soccer</h1>
        <p class="tagline">Dirige cada jornada y disfruta de la crónica canalla al instante.</p>
      </header>

      <section class="card game-card" id="planning-card">
        <nav class="planning-nav" aria-label="Pasos de planificación">
          <ol class="planning-steps">
            <li class="planning-step">
              <a class="planning-step__link" href="#club-overview">
                <span class="step-icon" aria-hidden="true">1</span>
                <span class="step-text">
                  <span class="step-title">Revisa club y liga</span>
                  <span class="step-subtitle">Confirma presupuesto, moral y clasificación.</span>
                </span>
              </a>
            </li>
            <li class="planning-step">
              <a class="planning-step__link" href="#match-strategy">
                <span class="step-icon" aria-hidden="true">2</span>
                <span class="step-text">
                  <span class="step-title">Ajusta táctica y decisiones</span>
                  <span class="step-subtitle">Selecciona el plan de juego antes del pitido.</span>
                </span>
              </a>
            </li>
            <li class="planning-step">
              <a class="planning-step__link" href="#lineup-setup">
                <span class="step-icon" aria-hidden="true">3</span>
                <span class="step-text">
                  <span class="step-title">Cierra la alineación</span>
                  <span class="step-subtitle">Ordena titulares, suplentes y reservas.</span>
                </span>
              </a>
            </li>
          </ol>
        </nav>
        <div class="planning-grid">
          <div class="planning-side">
            <div class="club-panel card-panel" id="club-overview">
              <div class="club-header">
                <h2>Tu chiringuito futbolero</h2>
                <button id="reset-club" type="button" class="reset-button">Reiniciar club</button>
              </div>
              <p class="panel-subtitle">Controla recursos y estado del vestuario antes de decidir.</p>
              <dl class="club-stats" id="club-stats">
                <div>
                  <dt>Club</dt>
                  <dd id="club-name"></dd>
                </div>
                <div>
                  <dt>Presupuesto</dt>
                  <dd id="club-budget"></dd>
                </div>
                <div>
                  <dt>Reputación</dt>
                  <dd id="club-reputation"></dd>
                </div>
                <div>
                  <dt>Moral media</dt>
                  <dd id="club-morale"></dd>
                </div>
              </dl>
            </div>

            <div class="league-panel card-panel">
              <div class="league-panel__header">
                <h2>Clasificación</h2>
                <span id="league-matchday" class="league-badge"></span>
              </div>
              <table class="league-table">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Club</th>
                    <th scope="col">J</th>
                    <th scope="col">G</th>
                    <th scope="col">E</th>
                    <th scope="col">P</th>
                    <th scope="col">GF</th>
                    <th scope="col">GC</th>
                    <th scope="col">Pts</th>
                  </tr>
                </thead>
                <tbody id="league-table-body"></tbody>
              </table>
            </div>

            <div class="transfer-panel card-panel">
              <h2>Mercado canalla</h2>
              <p>Fichajes de barrio, promesas callejeras y veteranos curtidos al estilo PC Fútbol.</p>
              <p id="transfer-message" class="transfer-feedback" hidden></p>
              <div id="transfer-list" class="transfer-list"></div>
            </div>
          </div>

          <form class="game-form" id="match-strategy">
            <h2>Planifica la jornada</h2>
            <p class="panel-subtitle">Define decisiones clave y el enfoque táctico del encuentro.</p>
            <label class="field">
              <span class="field-label">Canallada previa</span>
              <select id="decision-select" name="decision">
                <option value="">Mantenerse pulcro (sin travesuras)</option>
              </select>
            </label>

            <div class="field-grid">
              <label class="field">
                <span class="field-label">Táctica</span>
                <select id="tactic-select" name="tactic">
                  <option value="balanced">Equilibrada</option>
                  <option value="attacking">Ofensiva</option>
                  <option value="defensive">Defensiva</option>
                </select>
              </label>
              <label class="field">
                <span class="field-label">Alineación</span>
                <select id="formation-select" name="formation">
                  <option value="4-4-2">4-4-2 Clásica</option>
                  <option value="4-3-3">4-3-3 Picante</option>
                  <option value="4-2-3-1">4-2-3-1 Camiseta Ajustada</option>
                  <option value="3-5-2">3-5-2 Superpoblado</option>
                  <option value="5-3-2">5-3-2 Autobús Canalla</option>
                  <option value="4-1-4-1">4-1-4-1 Presión Alta</option>
                </select>
              </label>
              <label class="field">
                <span class="field-label">¿Jugamos en casa?</span>
                <input type="checkbox" id="home-checkbox" name="home" />
              </label>
              <label class="field">
                <span class="field-label">Fuerza rival</span>
                <input
                  type="range"
                  id="opponent-strength"
                  name="opponentStrength"
                  min="40"
                  max="95"
                  step="1"
                />
                <output id="opponent-output" for="opponent-strength"></output>
              </label>
            </div>

            <div class="lineup-panel" id="lineup-setup">
              <div class="lineup-panel__header">
                <h3>Define tu convocatoria</h3>
                <p class="panel-subtitle">Organiza titulares, suplentes y reservas con equilibrio.</p>
              </div>
              <div class="lineup-panel__summary">
                <span id="lineup-count" class="lineup-summary"></span>
                <span id="subs-count" class="lineup-summary"></span>
              </div>
              <p id="lineup-error" class="form-error" hidden></p>
              <div id="lineup-board" class="lineup-board">
                <div class="lineup-column" data-role="starter">
                  <h4>Once titular</h4>
                  <div class="lineup-dropzone" data-role="starter"></div>
                </div>
                <div class="lineup-column" data-role="sub">
                  <h4>Banquillo</h4>
                  <div class="lineup-dropzone" data-role="sub"></div>
                </div>
                <div class="lineup-column" data-role="none">
                  <h4>Reservas</h4>
                  <div class="lineup-dropzone" data-role="none"></div>
                </div>
              </div>
            </div>

            <button type="submit" class="play-button">Jugar jornada</button>
          </form>
        </div>
      </section>

      <section class="card report-card" id="report-card" hidden>
        <h2>Crónica de la jornada</h2>
        <div class="report-top">
          <div>
            <h3>Marcador</h3>
            <p id="scoreline" class="scoreline"></p>
            <p id="finances-delta" class="finances"></p>
          </div>
          <div class="decision-report" id="decision-report" hidden>
            <h3>Decisión canalla</h3>
            <p id="decision-narrative"></p>
            <ul id="decision-stats"></ul>
          </div>
        </div>

        <div class="report-body">
          <div>
            <h3>Narrativa</h3>
            <ol id="narrative-list"></ol>
          </div>
          <div>
            <h3>Eventos destacados</h3>
            <ul id="events-list"></ul>
          </div>
        </div>

        <div class="club-update">
          <h3>Estado del club tras la jornada</h3>
          <dl class="club-stats">
            <div>
              <dt>Presupuesto</dt>
              <dd id="post-budget"></dd>
            </div>
            <div>
              <dt>Reputación</dt>
              <dd id="post-reputation"></dd>
            </div>
            <div>
              <dt>Moral media</dt>
              <dd id="post-morale"></dd>
            </div>
          </dl>
        </div>

        <button type="button" id="plan-next" class="plan-button">Planificar la próxima jornada</button>
      </section>

      <footer class="footer">
        <p>Hecho con pasión canalla por la comunidad IA ⚽</p>
      </footer>
    </main>
    <script type="module" src="game.js"></script>
  </body>
</html>
