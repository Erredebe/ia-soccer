<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>IA Soccer · Manager canallesco</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="page">
      <header class="hero">
        <h1>IA Soccer</h1>
        <p class="tagline">Dirige cada jornada y disfruta de la crónica canalla al instante.</p>
      </header>

      <p id="load-notice" class="load-notice" aria-live="polite" hidden></p>

      <section class="card club-card" id="club-card">
        <header class="club-card__header">
          <div>
            <h2>Tu chiringuito futbolero</h2>
            <p class="club-card__tagline">Gestiona el vestuario y decide el rumbo de cada jornada.</p>
          </div>
          <button id="reset-club" type="button" class="reset-button">Reiniciar club</button>
        </header>
        <dl class="club-stats" id="club-stats">
          <div>
            <dt>Club</dt>
            <dd id="club-name"></dd>
          </div>
          <div>
            <dt>Presupuesto</dt>
            <dd id="club-budget"></dd>
          </div>
          <div>
            <dt>Reputación</dt>
            <dd id="club-reputation"></dd>
          </div>
          <div>
            <dt>Moral media</dt>
            <dd id="club-morale"></dd>
          </div>
        </dl>
        <div class="club-actions">
          <button type="button" class="club-action club-action--primary" data-modal-target="#modal-lineup">
            Gestionar alineación
          </button>
          <button type="button" class="club-action" data-modal-target="#modal-league">
            Clasificación liguera
          </button>
          <button type="button" class="club-action" data-modal-target="#modal-transfers">
            Mercado de fichajes
          </button>
          <button type="button" class="club-action" id="save-game">Guardar/Continuar</button>
        </div>
        <p id="save-feedback" class="save-feedback" hidden></p>
        <p id="save-version" class="save-version"></p>
      </section>

      <section class="card match-card" id="match-card">
        <header class="match-card__header">
          <div>
            <h2>Jornada en curso</h2>
            <p class="match-card__tagline">Analiza al rival y ajusta tu plan antes del pitido inicial.</p>
          </div>
          <span class="match-card__badge" id="matchday-badge">Jornada 1</span>
        </header>
        <div class="match-card__body">
          <dl class="match-summary">
            <div>
              <dt>Rival</dt>
              <dd id="match-opponent-name">Rival misterioso</dd>
            </div>
            <div>
              <dt>Fortaleza estimada</dt>
              <dd id="match-opponent-strength">68/100</dd>
            </div>
            <div>
              <dt>Estadísticas</dt>
              <dd id="match-opponent-record">Sin registros disponibles</dd>
            </div>
            <div>
              <dt>Sede</dt>
              <dd id="match-location">Tu estadio</dd>
            </div>
          </dl>

          <form class="game-form" id="game-form">
            <label class="field">
              <span class="field-label">Canallada previa</span>
              <select id="decision-select" name="decision">
                <option value="">Mantenerse pulcro (sin travesuras)</option>
              </select>
            </label>

            <div class="field-grid">
              <label class="field">
                <span class="field-label">Táctica</span>
                <select id="tactic-select" name="tactic">
                  <option value="balanced">Equilibrada</option>
                  <option value="attacking">Ofensiva</option>
                  <option value="defensive">Defensiva</option>
                </select>
              </label>
              <label class="field">
                <span class="field-label">Alineación</span>
                <select id="formation-select" name="formation">
                  <option value="4-4-2">4-4-2 Clásica</option>
                  <option value="4-3-3">4-3-3 Picante</option>
                  <option value="4-2-3-1">4-2-3-1 Camiseta Ajustada</option>
                  <option value="3-5-2">3-5-2 Superpoblado</option>
                  <option value="5-3-2">5-3-2 Autobús Canalla</option>
                  <option value="4-1-4-1">4-1-4-1 Presión Alta</option>
                </select>
              </label>
              <label class="field">
                <span class="field-label">¿Jugamos en casa?</span>
                <input type="checkbox" id="home-checkbox" name="home" />
              </label>
              <label class="field">
                <span class="field-label">Fuerza rival</span>
                <input
                  type="range"
                  id="opponent-strength"
                  name="opponentStrength"
                  min="40"
                  max="95"
                  step="1"
                />
                <output id="opponent-output" for="opponent-strength"></output>
              </label>
              <label class="field">
                <span class="field-label">Semilla reproducible</span>
                <input
                  type="text"
                  id="seed-input"
                  name="seed"
                  placeholder="ej. derby-123"
                  autocomplete="off"
                  inputmode="text"
                  aria-describedby="seed-hint"
                />
                <span id="seed-hint" class="field-hint"
                  >Si introduces una semilla podrás repetir exactamente este partido más adelante.</span
                >
              </label>
            </div>

            <div class="match-form__actions">
              <p id="match-lineup-status" class="match-lineup-status"></p>
              <div class="match-actions">
                <button
                  type="button"
                  class="club-action club-action--primary"
                  data-modal-target="#modal-lineup"
                >
                  Gestionar alineación
                </button>
                <button type="submit" class="play-button">Jugar jornada</button>
              </div>
            </div>
          </form>
        </div>
      </section>

      <div class="modal" id="modal-lineup" aria-hidden="true">
        <div class="modal__content modal__content--wide" role="dialog" aria-modal="true" aria-labelledby="lineup-title">
          <button type="button" class="modal__close" data-modal-close aria-label="Cerrar gestión de alineación">×</button>
          <section class="lineup-panel">
            <div class="lineup-panel__header">
              <h2 id="lineup-title">Gestiona tu alineación</h2>
              <p>Escoge 11 titulares y hasta 5 suplentes antes de lanzarte a la jornada.</p>
            </div>
            <div class="lineup-panel__summary">
              <span id="lineup-count" class="lineup-summary"></span>
              <span id="subs-count" class="lineup-summary"></span>
              <button
                id="lineup-autosort"
                type="button"
                class="lineup-auto-button"
                data-modal-initial-focus
              >
                Autoordenar
              </button>
            </div>
            <div class="lineup-help">
              <p>Consejos rápidos para mimar tu once:</p>
              <ul>
                <li>Cambia el rol con los botones Titular/Banquillo/Reserva y replica la tabla clásica de tus juegos favoritos.</li>
                <li>Usa el botón «Vender» si necesitas aligerar nómina o abrir hueco.</li>
                <li>Prueba el atajo «Autoordenar por posición» para reordenar titulares y banquillo en segundos.</li>
              </ul>
            </div>
            <section class="lineup-legend" aria-label="Leyenda de abreviaturas de estadísticas">
              <h3 class="lineup-legend__title">Leyenda rápida de estadísticas</h3>
              <dl class="lineup-legend__list">
                <div>
                  <dt>EN</dt>
                  <dd>Energía actual del jugador.</dd>
                </div>
                <div>
                  <dt>VE</dt>
                  <dd>Velocidad punta y aceleración.</dd>
                </div>
                <div>
                  <dt>RE</dt>
                  <dd>Resistencia para aguantar todo el partido.</dd>
                </div>
                <div>
                  <dt>AT</dt>
                  <dd>Ataque y capacidad goleadora.</dd>
                </div>
                <div>
                  <dt>DE</dt>
                  <dd>Defensa y solidez al cortar jugadas.</dd>
                </div>
                <div>
                  <dt>MI</dt>
                  <dd>Mirada creativa para distribuir el juego (pase).</dd>
                </div>
                <div>
                  <dt>CO</dt>
                  <dd>Control y regate en espacios reducidos.</dd>
                </div>
                <div>
                  <dt>LI</dt>
                  <dd>Liderazgo dentro y fuera del campo.</dd>
                </div>
                <div>
                  <dt>MO</dt>
                  <dd>Moral general del futbolista.</dd>
                </div>
              </dl>
            </section>
            <p id="lineup-error" class="form-error" hidden></p>
            <div id="lineup-board" class="lineup-board">
              <div class="lineup-table-wrapper">
                <table class="lineup-table">
                  <thead>
                    <tr>
                      <th scope="col">N.º</th>
                      <th scope="col">Jugador</th>
                      <th scope="col"><abbr title="Energía">EN</abbr></th>
                      <th scope="col"><abbr title="Velocidad">VE</abbr></th>
                      <th scope="col"><abbr title="Resistencia">RE</abbr></th>
                      <th scope="col"><abbr title="Ataque">AT</abbr></th>
                      <th scope="col"><abbr title="Defensa">DE</abbr></th>
                      <th scope="col"><abbr title="Visión de pase">MI</abbr></th>
                      <th scope="col"><abbr title="Control y regate">CO</abbr></th>
                      <th scope="col"><abbr title="Liderazgo">LI</abbr></th>
                      <th scope="col"><abbr title="Moral">MO</abbr></th>
                      <th scope="col">Rol</th>
                      <th scope="col" class="lineup-table__actions-header">Gestión</th>
                    </tr>
                  </thead>
                  <tbody id="lineup-table-body"></tbody>
                </table>
              </div>
            </div>
          </section>
        </div>
      </div>

      <div class="modal" id="modal-league" aria-hidden="true">
        <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="league-title">
          <button type="button" class="modal__close" data-modal-close aria-label="Cerrar clasificación">×</button>
          <div class="league-panel card-panel">
            <div class="league-panel__header">
              <h2 id="league-title">Clasificación</h2>
              <span id="league-matchday" class="league-badge"></span>
            </div>
            <table class="league-table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Club</th>
                  <th scope="col">J</th>
                  <th scope="col">G</th>
                  <th scope="col">E</th>
                  <th scope="col">P</th>
                  <th scope="col">GF</th>
                  <th scope="col">GC</th>
                  <th scope="col">Pts</th>
                </tr>
              </thead>
              <tbody id="league-table-body"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="modal" id="modal-transfers" aria-hidden="true">
        <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="transfers-title">
          <button type="button" class="modal__close" data-modal-close aria-label="Cerrar mercado">×</button>
          <div class="transfer-panel card-panel">
            <h2 id="transfers-title">Mercado canalla</h2>
            <p>Fichajes de barrio, promesas callejeras y veteranos curtidos al estilo PC Fútbol.</p>
            <p id="transfer-message" class="transfer-feedback" hidden></p>
            <div id="transfer-list" class="transfer-list"></div>
          </div>
        </div>
      </div>

      <div class="modal" id="modal-report" aria-hidden="true">
        <div class="modal__content modal__content--wide" role="dialog" aria-modal="true" aria-labelledby="report-title">
          <button type="button" class="modal__close" data-modal-close aria-label="Cerrar crónica">×</button>
          <section class="report-card">
            <h2 id="report-title">Crónica de la jornada</h2>
            <div class="report-top">
            <div>
              <h3>Marcador</h3>
              <p id="scoreline" class="scoreline"></p>
              <p id="finances-delta" class="finances"></p>
              <p id="finances-attendance" class="finances-attendance"></p>
              <p id="match-seed" class="match-seed" hidden></p>
            </div>
            <div class="decision-report" id="decision-report" hidden>
              <h3>Decisión canalla</h3>
              <p id="decision-narrative"></p>
              <ul id="decision-stats"></ul>
            </div>
            <div class="mvp-wrapper">
              <span id="mvp-badge" class="mvp-badge" hidden></span>
            </div>
          </div>

          <div class="finances-breakdown">
            <div>
              <h3>Ingresos</h3>
              <ul id="finances-income"></ul>
            </div>
            <div>
              <h3>Gastos</h3>
              <ul id="finances-expenses"></ul>
            </div>
          </div>

          <div class="report-body">
            <div>
              <h3>Narrativa</h3>
              <ol id="narrative-list"></ol>
            </div>
              <div>
                <h3>Eventos destacados</h3>
                <ul id="events-list"></ul>
              </div>
            </div>

          <div class="club-update">
            <h3>Estado del club tras la jornada</h3>
            <dl class="club-stats">
              <div>
                <dt>Presupuesto</dt>
                  <dd id="post-budget"></dd>
                </div>
                <div>
                  <dt>Reputación</dt>
                  <dd id="post-reputation"></dd>
                </div>
                <div>
                  <dt>Moral media</dt>
                  <dd id="post-morale"></dd>
                </div>
            </dl>
          </div>

          <section id="season-summary" class="season-summary" hidden>
            <h3>Resumen de temporada</h3>
            <p><strong>Campeón:</strong> <span id="season-champion"></span></p>
            <p><strong>Posesión media:</strong> <span id="season-average-possession"></span></p>
            <p id="season-streak"></p>
            <div class="season-summary__lists">
              <div>
                <h4>Goleadores</h4>
                <ol id="season-top-scorers"></ol>
              </div>
              <div>
                <h4>Asistentes</h4>
                <ol id="season-top-assists"></ol>
              </div>
            </div>
            <button type="button" id="new-season" class="plan-button" hidden>Comenzar nueva temporada</button>
          </section>

          <button type="button" id="plan-next" class="plan-button">Planificar la próxima jornada</button>
        </section>
      </div>
      </div>

      <footer class="footer">
        <p>Hecho con pasión canalla por la comunidad IA ⚽</p>
      </footer>
    </main>
    <script type="module" src="game.js"></script>
  </body>
</html>
